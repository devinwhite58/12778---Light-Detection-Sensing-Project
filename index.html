<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Who turned the lights on?</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="e5725fea-f730-4901-9570-c0fe911745e7" class="page sans"><header><img class="page-cover-image" src="https://images.unsplash.com/photo-1555664424-778a1e5e1b48?ixlib=rb-4.0.3&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb" style="object-position:center 29.25%"/><div class="page-header-icon page-header-icon-with-cover"><span class="icon">💡</span></div><h1 class="page-title">Who turned the lights on?</h1></header><div class="page-body"><p id="271caee4-0552-4d0a-8b9e-5ff3088ad72a" class=""><strong>Course :</strong> 12-778 Sensors, Circuits, and Data Infrastructure and Management for Infrastructure</p><p id="922fd109-e08b-4dc8-945c-7a82cffb666f" class=""><strong>Semester :</strong> Fall 2022</p><p id="a7fea363-2d0c-4c18-ae1a-74be6035d2d4" class=""><strong>Team Members :</strong> Labdhi Kagdi, Steve Lobo, Harsh Patel, &amp; Devin White</p><p id="7648e8c2-6412-4384-8e5e-73ad8646175d" class=""><strong>Table of Contents</strong></p><nav id="e7764705-c2eb-4a33-b96c-92de81d753bd" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f7e4073e-9d12-4fb1-a7c4-ac459231030e">Introduction</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1587f30c-2487-47af-b7b0-57f564031233">Motivation</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4a4364cd-776b-42da-97ab-80e44849a1a0">Learning Goals</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b1bcdb16-bcb1-45ee-9a83-558827a5984a">Weekly Updates</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#20ac75e5-43d0-4cf5-915e-bbc900ca8d77"><strong>What are we sensing?</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#41885c30-01ef-4581-821d-b187423825de">The Physical Phenomena of Light</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3b318b7d-e40e-4214-8f51-bed0400037a6">Artificial Sources of Light - Light Bulbs </a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#492f70ec-f8e5-438e-b5e1-f6aa65975ba3">Our Sensing System</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#44298ffa-c322-4aff-9ceb-ed4c3e029f95">How do we measure light intensity?</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#59b1ce41-cba0-47b6-9f11-46b261f2d72f">Equipment needed</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0391fbaf-b3ad-4084-9acd-941d2dfe0793">Software packages</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f6d051dc-afcb-4672-8def-699b44a70a43">Optional Equipment</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ab530528-bf16-4dc3-9040-1d69b08644fa">The Sensor(s)</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4e4354e7-c9ed-4a58-8c3e-481762d40029">The Hardware Stuff</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2a49f205-b42f-40ab-a062-bba961db6f2c">Measurement Characteristics</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7bf459b5-14b8-430b-b321-bfa2ac4f66c2">The Software Stuff</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#de629ab3-ce48-4708-b4d1-398634c9007d">Challenges Faced</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a0134bee-a4c7-4548-aed7-58294f083bfa"><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Uncertainty and Error Analysis</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#be50b4e0-48d1-4fce-997d-6217eda08ae0">Future Work</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3e32fb92-56e5-4ed8-9f11-d162f97db673">Acknowledgements</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3c547d78-fe69-4cbd-9e8d-c1dce70a6826">Reference Papers</a></div></nav><h1 id="f7e4073e-9d12-4fb1-a7c4-ac459231030e" class="">Introduction</h1><h2 id="1587f30c-2487-47af-b7b0-57f564031233" class="">Motivation</h2><p id="ca22204b-edb3-44ac-ba80-f3cf5e9398b7" class="">Wouldn’t it be really cool if we could tell what type of a bulb is in our house or our building without having to burn our fingers or sitting in the dark to unscrew the lamp? We’re sure our Facilities Team would be particularly excited about this one! In this very simple project, we are focused on identifying different artificial light sources by using a portable light sensing device that can send bulb type information to a cloud feed.</p><h2 id="4a4364cd-776b-42da-97ab-80e44849a1a0" class="">Learning Goals</h2><ul id="39ca9b47-3772-47e2-ac85-37ecd3ac0377" class="bulleted-list"><li style="list-style-type:disc">Understand how light and light sensors work.</li></ul><ul id="c8253395-5152-4749-920a-cb9e4fd73eae" class="bulleted-list"><li style="list-style-type:disc">Differentiate between different light sources based on the light intensity signal measured using a low-cost system.</li></ul><ul id="dad59887-67f8-494d-a2ae-8051e36eeff7" class="bulleted-list"><li style="list-style-type:disc">Take readings from inputs, process the data to make different outputs depending on the value of sensor readings.</li></ul><ul id="bd760e7b-3ceb-4136-8283-a9f566da6e62" class="bulleted-list"><li style="list-style-type:disc">Implement a messaging protocol using MQTT between the sensor, signal-processing system and the output display.</li></ul><ul id="ae7a4588-ffff-4348-992c-2a9557aa4127" class="bulleted-list"><li style="list-style-type:disc">Create a user-friendly interface to view our results.</li></ul><h1 id="b1bcdb16-bcb1-45ee-9a83-558827a5984a" class="">Weekly Updates</h1><p id="8ab2a14b-daaf-40a7-8377-007d1feae456" class=""><em>10/01 to 11/04</em><div class="indented"><ul id="9ab284f4-ff0c-4cae-8571-372237e8115c" class="bulleted-list"><li style="list-style-type:disc">Literature Review</li></ul><ul id="775d777f-fcd8-4c3a-9e93-1b78ad9b44d2" class="bulleted-list"><li style="list-style-type:disc">Sensor Selection</li></ul></div></p><p id="38ba5815-9a7e-4cf0-8ac4-edb0d98ceb3a" class=""><em>Week 1 (11/07/2022 - 11/11/2022)</em> <div class="indented"><ul id="a1fe35cd-c8df-40be-8612-ca57bce19b69" class="bulleted-list"><li style="list-style-type:disc">Tested photoresistor light sensing circuit in class and looked at ways to analyze the output. FFT analysis didn’t reveal what we were looking for. Decided to look at other ways of studying the output from the sensing system.</li></ul></div></p><p id="001b702f-c7a2-444b-a649-b2b4d9a91e11" class=""><em>Week 2 (11/14/2022 - 11/18/2022) </em><div class="indented"><ul id="546c68ec-3ec4-41f5-ad34-cdb54065529c" class="bulleted-list"><li style="list-style-type:disc">Waiting for sensors to be delivered.</li></ul><ul id="3f7303e9-47d2-43cb-a268-b32e23a14e12" class="bulleted-list"><li style="list-style-type:disc">Continue testing with photoresistor sensor for the time being </li></ul></div></p><p id="ca21d4eb-b4e1-40f8-b5b6-51edaf499bfa" class=""><em>Week 3 (11/21/2022 - 11/25/2022) </em><div class="indented"><ul id="d9b63b91-8825-49e6-9a88-81be95b80587" class="bulleted-list"><li style="list-style-type:disc">Received photodiode sensor </li></ul><ul id="c34538e7-007e-4ea0-a7db-c52a80d49b6f" class="bulleted-list"><li style="list-style-type:disc">Discussion with Dr. Mario regarding progress with photoresistor light sensing circuit and post-data collection processing.</li></ul></div></p><p id="949fb5e4-9ca6-4eff-9125-b46231de3f95" class=""><em>Week 4 (11/28/2022 - 12/02/2022) </em><div class="indented"><ul id="9ab6fe0c-f61d-430d-b104-0932c5ccb69a" class="bulleted-list"><li style="list-style-type:disc">Github page up and running - updates to reports sections in progress.</li></ul><ul id="0eff62fa-6266-41f1-9265-10f8a0cc863c" class="bulleted-list"><li style="list-style-type:disc">Collected outputs for different light sources using the photoresistor and photodiode.</li></ul><ul id="2678bb6c-d2b3-4ac0-9449-a2306cea396d" class="bulleted-list"><li style="list-style-type:disc">Code developed to run on RPi Pico W that generates a response to be analyzed separately.</li></ul><ul id="957804d9-2788-4a13-a7f5-2443e7977a48" class="bulleted-list"><li style="list-style-type:disc">Catch-up with Dr. Mario to discuss signal analysis and improvements to our sensing system.</li></ul></div></p><p id="cd8bdde8-caac-4a97-a2f8-a9a8c1cc33a4" class=""><em>Week 5 (12/05/2022 - 12/09/2022)</em><div class="indented"><ul id="53e68964-dbc0-4da1-ac82-d105f9407866" class="bulleted-list"><li style="list-style-type:disc">Implementation of final sensing system using photodiode (keeping the photoresistor as a backup sensor).</li></ul><ul id="2438b192-ed46-4c97-b37d-f506c4781f8f" class="bulleted-list"><li style="list-style-type:disc">Study and implementation of MQTT communication protocol between RPi and computers for data sharing.</li></ul><ul id="81ca0d30-1820-435e-a638-8bd95239d390" class="bulleted-list"><li style="list-style-type:disc">Implementation of button to control sensing process/system remotely.</li></ul><ul id="28de31e9-1a4d-4ec7-8507-30b56a14ddcb" class="bulleted-list"><li style="list-style-type:disc">Combining code for RPi Pico W and signal processing on the computer.</li></ul><ul id="dfab27aa-9131-4860-b8ff-78e7f0e799f2" class="bulleted-list"><li style="list-style-type:disc">Final preparation to complete report and sensing output prior to Demo Day (12/09/2022).</li></ul></div></p><p id="364b8116-a935-4e20-bbb8-2522330bf75f" class=""><em>Post Demo-Day Comments</em><div class="indented"><ul id="36bacef5-8dcf-4035-8cb5-5d23da21943a" class="bulleted-list"><li style="list-style-type:disc">Use concept of Confusion Matrix to develop the uncertainty analysis for our project.</li></ul><ul id="9d768820-91f8-4fd6-9aaf-42218eee3233" class="bulleted-list"><li style="list-style-type:disc">Review and closure of Dr. Mario’s comments on Assignment 4 content.</li></ul></div></p><h1 id="20ac75e5-43d0-4cf5-915e-bbc900ca8d77" class=""><strong>What are we sensing?</strong></h1><h3 id="41885c30-01ef-4581-821d-b187423825de" class="">The Physical Phenomena of Light</h3><p id="52092c37-be6e-4176-877e-12b369bcc003" class="">Visible light is defined as the electromagnetic radiation that is perceivable by the human eye. Artificial light is visible light generated by artificial light sources and usually also contains some IR and UV radiation, as opposed to natural daylight (most LEDs do not contain IR and UV).</p><p id="48b951ef-92b2-4a01-b6b8-8186034906dc" class=""><em>So how do artificial light sources work?</em> In general, the filament in the light bulb acts as a resistance to the electrons that otherwise flow without impediment through the wire. Although the electrons can still pass through the filament, just like they pass through the wire, this requires more effort on their part. It is this work that the electrons have to do to overcome the resistance caused by the filament that generates heat that makes the filament transmit photons or &quot;light up&quot;.</p><p id="cee93809-6a52-4218-926a-81f1cd4f3fcd" class="">The energy of a photon is based on its frequency, <div class="indented"><p id="55e7a3b5-598e-402d-add7-c777b2a29cbc" class="">                      Energy, E = hc / λ </p><p id="c4d0c422-f30a-4de9-97f6-4900a688987b" class="">here,</p><p id="91e0e998-65a0-40ac-b1c5-0057d22a1720" class="">h is Planck’s constant,</p><p id="d5273a5d-1551-4960-86b2-b9b4f6623bb2" class="">c is velocity of light,</p><p id="f9441565-3d58-4edc-befa-7c20eb20ad09" class="">λ is wavelength of the light.</p></div></p><p id="e2dfcdad-6101-444a-b8be-037514c37014" class="">The higher the frequency the greater the energy. The wavelengths that humans are typically able to visualize lie in a very narrow range between approximately 400 and 700 nanometers. In terms of frequency, this corresponds to a band in the vicinity of 400–790 THz.</p><p id="2e817c16-21ad-408d-8409-bfb1cf214e0f" class="">The frequency for AC source in the United States is 60 Hertz. The alternating current produces sine waves which makes it an appropriate choice for further comparisons. For this project we are considering light sources powered by AC source.  </p><h3 id="3b318b7d-e40e-4214-8f51-bed0400037a6" class="">Artificial Sources of Light - Light Bulbs </h3><p id="2f19429a-1dda-43ae-85be-ccd9e2030788" class="">In our experiment, we will be using three types of artificial light sources, the incandescent, CFL and LED lights that are based on different working principles.</p><p id="c54660b5-5119-41b1-b8db-73b0e9810e2f" class="">A standard modern <strong><span style="border-bottom:0.05em solid">incandescent lamp</span></strong> is composed of a glass bulb containing a metal wire filament such as tungsten (W) in a vacuum. The wire filament has high electrical resistance. When an electric current passes through this wire filament, collisions among the electrons and atoms of the wire lead to incandescence of the wire (i.e. make it glow) resulting in light production.</p><p id="9df55704-3acf-49f3-8b29-20af3622f87d" class="">
</p><p id="e0ab841d-5b94-4b06-971a-5a4d9379da8c" class=""><span style="border-bottom:0.05em solid"><strong>Halogen lamps</strong></span> are filled with a halogen gas such as iodine or bromine. The gas is heated up and bonds with the tungsten molecules when the bulb is turned on. The difference between the halogen and incandescent lamp is that the gas re-deposits the tungsten back onto the filament, improving the lifespan of the light and keeping the bulb clean and clear of tungsten. Since the bulbs are made from a much stronger material (quartz or high-melting-point glass), the gas pressure can be higher and the bulb can burn hotter than a standard incandescent. The increased heat means that halogens are able to reach higher color temperatures with the best CRI possible.</p><p id="31ebcd0d-cfd1-4249-a9d4-14bb40911e35" class="">
A <strong><span style="border-bottom:0.05em solid">light-emitting diode (LED)</span></strong> is composed of a semiconductor that has undergone doping. When an electric current passes through the diode, the atoms of the semiconductor are excited (move up) to high energy levels. When the atoms revert spontaneously to lower levels they emit photons in the wavelengths of visible light.</p><figure id="e6d26df4-2ea7-43c9-a58f-539c3bc50a48"><div class="source"><a href="https://www.youtube.com/watch?v=-MYB8butQwQ">https://www.youtube.com/watch?v=-MYB8butQwQ</a></div></figure><h1 id="492f70ec-f8e5-438e-b5e1-f6aa65975ba3" class="">Our Sensing System</h1><p id="ca962ae5-a13a-46f6-808e-dce2893aaa9a" class="block-color-gray">From the <a href="https://dl.acm.org/doi/abs/10.1145/3360322.3360855">GridInSight Paper [1]</a>, we found out that different light sources have different wave characteristics. The way a bulb flickers can be related to the input voltage introduced as a unit-less Bulb Response Function (BRF). The BRF value at a time <em>t</em> is defined as the ratio of intensity measured to the temporal average of measured intensity. Readings recorded from the LED, halogen and incandescent bulbs are converted to a BRF database. The major part of our project solution revolves around measuring a nominal BRF for a particular light source and compare it to our existing BRF data. </p><h3 id="44298ffa-c322-4aff-9ceb-ed4c3e029f95" class="">How do we measure light intensity?</h3><p id="598899b2-0c75-4ff2-afa5-2a93f44a301f" class="">
</p><figure id="14fa9a9b-c513-46ec-b0ff-9ae74a9eab86" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Screenshot_2022-11-30_222618.jpg"><img style="width:720px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Screenshot_2022-11-30_222618.jpg"/></a></figure><p id="3cd1c261-9f46-404c-87c1-7a78c05f9118" class="">
</p><p id="6717414e-cd5f-4703-9aa5-4f18b6c6b95b" class="">➢ Physical stimulus: The physical stimulus for our system as described in the previous section is light. We have different artificial light sources that are connected to AC power.</p><p id="a0831bd7-7271-4aaf-bcab-6fcd60724641" class="">➢ Light intensity sensor: We use light sensors such as photoresistors, phototransistors and photodiodes to capture the intensity of each artificial light source.</p><p id="4098ab39-d1f7-48e8-9e78-bc26ffb4a04e" class="">➢ Analog signal conditioning: The photoresistor does not need any special conditioning circuit to receive an appropriate signal output. The sensor is simply connected directly to the RPi Pico W. The photodiode requires an op-amp or shunt resistance large enough to produce a voltage to be studied. However, the sensors purchased already possess the signal conditioning on-board. </p><p id="2a69b8b8-70c2-4b47-afe2-fb5a36267cdd" class="">➢Signal Processing: Our signal processing includes the program that we wrote which took the raw signal output data. This data is available in the form of raw numbers that correlate to 16 bit numbers in our ADC and convert it to the voltage values by multiplying by 3.3 and 65535. We use the DMA trick to capture our data using fast sampling to utilize the existing portion of code. These processes are carried out on the Raspberry Pi. For further signal processing, these generated voltage values are transferred on the laptop using MQTT. A list of 70 BRF wave values is generated using NumPy library and Pandas. We then found one period of each waveform of the normalized 70 point BRF. We used a consistent zero crossings finder to do this and keep all the points within three zero crossings. For further processing we needed to zero pad the data. It was important to zero pad the signal so that the crossings that were short by some samples got completed with zeroes at the end in order to be of the same dimension as the longest one. These values were then compared to the existing database to find the Euclidean distance.  </p><p id="de20337c-1cbf-4946-b208-80a141794bd8" class="">➢ Signal Output: The signal output for our project is a Euclidian distance that is used to characterize how close the bulb’s response function is to one of the bulbs that we have pre-loaded into our database. The bulb in the database with the closest Euclidian distance to our unknown bulb type is what we ultimately predict as the unknown bulb type. </p><hr id="2d96d9f3-9e11-49e8-ab55-389b298d45f9"/><h3 id="59b1ce41-cba0-47b6-9f11-46b261f2d72f" class="">Equipment needed</h3><ul id="b5e99eb9-00a2-47c2-aaad-3fbd84c788d0" class="bulleted-list"><li style="list-style-type:disc">Photodiode (<em>preferred sensor for this project</em>)</li></ul><ul id="f2838889-6569-4fe8-82e6-c5e51f64228a" class="bulleted-list"><li style="list-style-type:disc">Photoresistor</li></ul><ul id="9dda7228-2dfb-4abd-b50c-cdbffef0fe78" class="bulleted-list"><li style="list-style-type:disc">RPi Pico W</li></ul><ul id="d30f381c-5997-4345-a9f6-1fbe6b1ff70c" class="bulleted-list"><li style="list-style-type:disc">Battery pack or power bank</li></ul><ul id="f87318e0-a4de-41f0-93f0-e1a77307e75a" class="bulleted-list"><li style="list-style-type:disc">Button</li></ul><ul id="3d6436c7-e47b-4ae4-9422-e452251731bd" class="bulleted-list"><li style="list-style-type:disc">Male-to-female jumper cables</li></ul><ul id="e9568339-4e53-4eb1-b50c-4c7dcdcbf314" class="bulleted-list"><li style="list-style-type:disc">Artificial light sources - Incandescent, Halogen, LED, CFL, etc.</li></ul><h3 id="0391fbaf-b3ad-4084-9acd-941d2dfe0793" class="">Software packages</h3><ul id="dc942df2-aec4-417f-be00-07e7d73d93cf" class="bulleted-list"><li style="list-style-type:disc">Thonny (RPi Pico W IDE) and external Python IDE</li></ul><ul id="5ecc74a5-b6fb-43c8-aba6-a0ecfb197f9e" class="bulleted-list"><li style="list-style-type:disc">A MQTT broker (e.g., Adafruit IO)</li></ul><ul id="8479e682-60dc-4520-bfd5-57ffbeed2687" class="bulleted-list"><li style="list-style-type:disc">Adafruit IO Python package (info available <a href="https://github.com/adafruit/Adafruit_IO_Python">here</a>)</li></ul><ul id="0a721994-9840-469f-a9dd-23b0ede9e5cc" class="bulleted-list"><li style="list-style-type:disc">NumPy Python package (info available <a href="https://numpy.org/">here</a>)</li></ul><ul id="24d48292-a34d-429e-a49c-31005be468aa" class="bulleted-list"><li style="list-style-type:disc">Pandas Python package (info available <a href="https://pandas.pydata.org/">here</a>)</li></ul><h3 id="f6d051dc-afcb-4672-8def-699b44a70a43" class="">Optional Equipment</h3><ul id="4166f068-421f-4b93-baae-1f36b2c42dac" class="bulleted-list"><li style="list-style-type:disc">Phototransistor</li></ul><ul id="d79e57fa-e255-4475-895a-f14e54c9800d" class="bulleted-list"><li style="list-style-type:disc">Op-amp (can be in-built with the photodiode)</li></ul><ul id="df3c7d87-21a9-483c-a1b0-5ee91af38078" class="bulleted-list"><li style="list-style-type:disc">Resistors/shunt resistor (can be in-built with the photodiode)</li></ul><ul id="62c237bb-ad35-49a4-8328-2881d13f4c2f" class="bulleted-list"><li style="list-style-type:disc">Capacitors (can be in-built with the photodiode)</li></ul><hr id="20503994-40f9-4dff-b0f6-0ec6244bcd63"/><h3 id="ab530528-bf16-4dc3-9040-1d69b08644fa" class="">The Sensor(s)</h3><p id="5b4b5ec4-1eb5-4694-8c9c-262fabe1afb3" class="">To detect the light from the artificial light sources we use light sensors such as photodiodes, phototransistors or photoresistors. These components are used in many real-world applications like mobiles, automatic lighting, proximity sensors and in renewable energy. They work on the principle of the photoelectric effect. Light behaves as a particle, referred to as a photon. When a photon hits the metal surface of the light sensor, the energy of the light is absorbed by the electrons, increasing their kinetic energy and allowing them to be emitted from the material. This movement of electrons, and therefore charge, is electrical current.</p><p id="3fcf3984-9223-4804-9385-44994e531c5e" class=""><strong> Photoresistor</strong><div class="indented"><p id="b4e2bd6e-207d-4ec7-b5fb-c03904b47bdc" class="">The photoresistor (also called light-dependent resistors or LDRs) are passive devices whose resistance decreases in proportion to the amount of light received. Interestingly they have spectral sensitivity curves that approximately match the sensitivity of the human eye, so they are useful for applications that involve mimicking human perception of light, such as headlight dimmers or intensity adjustments on information displays.</p></div></p><p id="0e7a4375-8bda-4924-8252-563c09fa19d3" class=""><strong>Photodiode</strong><div class="indented"><p id="29553b5c-ce81-4d63-a083-c593ff0c6027" class="">The photodiode is a p-n junction device that converts light into an electrical current. A p-n junction device consists of a p-type and n-type semiconducting material. Photodiodes do need an operational amplifier or similar circuit to give signal gain for picowatt-level applications. At high optical-power levels (greater than 10 µW), a shunt resistor configuration can give adequate performance and also can provide voltage compatibility.</p><p id="5f870571-7fea-4793-8876-ceb30f1c2acf" class="">The photodiode selected for our project is shown below and can be purchased on Amazon at the below link -</p><figure id="9a918ac9-eb40-4ec2-b599-8f575047859f"><a href="https://www.amazon.com/uxcell-Photosensitive-Terminals-Detection-Photodiode/dp/B07M8WS8TH/ref=sr_1_5?crid=2ID6WGVZ87VZ8&amp;keywords=photodiode&amp;qid=1667577615&amp;qu=eyJxc2MiOiI0LjY2IiwicXNhIjoiNC40MSIsInFzcCI6IjQuMjcifQ%3D%3D&amp;s=industrial&amp;sprefix=photodiode%2Cindustrial%2C82&amp;sr=1-5" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href"><img src="https://www.amazon.com/favicon.ico" class="icon bookmark-icon"/>https://www.amazon.com/uxcell-Photosensitive-Terminals-Detection-Photodiode/dp/B07M8WS8TH/ref=sr_1_5?crid=2ID6WGVZ87VZ8&amp;keywords=photodiode&amp;qid=1667577615&amp;qu=eyJxc2MiOiI0LjY2IiwicXNhIjoiNC40MSIsInFzcCI6IjQuMjcifQ%3D%3D&amp;s=industrial&amp;sprefix=photodiode%2Cindustrial%2C82&amp;sr=1-5</div></div></a></figure><figure id="39334b46-a527-44de-a5ab-9f4981a0908d" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Untitled.png"><img style="width:336px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Untitled.png"/></a></figure><p id="3901de2a-f963-4bd9-98cc-f5b4587e687d" class=""><em>uxcell Photosensitive Diode Sensor 4 Terminals Light Detection Photodiode Module</em></p></div></p><p id="6ced533a-fc2d-49b7-9265-69c735d37ae4" class=""><strong>Phototransistor</strong><div class="indented"><p id="05914469-c711-494b-a60d-6eec2b696dc6" class="">An alternative photo-junction device to the photodiode is the Phototransistor which is basically a photodiode with amplification. The Phototransistor light sensor has its collector-base PN-junction reverse biased exposing it to the radiant light source. Phototransistors operate the same way as the photodiode except that they can provide current gain and are much more sensitive than the photodiode with currents are 50 to 100 times greater than that of the standard photodiode and any normal transistor can be easily converted into a phototransistor light sensor by connecting a photodiode between the collector and base.
Some people confuse phototransistors with photoresistors. When light strikes a photoresistor, its resistance changes; but when light strikes a phototransistor, its gain is affected. Photoresistors are typically used as analog light sensors capable of reading a wide range of values, but phototransistors are more likely to be used as digital switches.</p><p id="7faba782-2de5-4696-a3e0-4730970ff731" class="">The phototransistor selected for our project and can be purchased from the below link -</p><figure id="3a5557f0-57c3-4cd0-8486-fb7105113824"><a href="https://www.sparkfun.com/products/8688" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">SparkFun Ambient Light Sensor Breakout - TEMT6000</div><div class="bookmark-description">Basic breakout board for the TEMT6000 Ambient Light Sensor. Only what you need, nothing you don&#x27;t. Sensor acts like a transistor - the greater the incoming light, the higher the analog voltage on the signal pin. This skill defines how difficult the soldering is on a particular product.</div></div><div class="bookmark-href"><img src="https://www.sparkfun.com/favicon.ico" class="icon bookmark-icon"/>https://www.sparkfun.com/products/8688</div></div><img src="https://cdn.sparkfun.com/r/92-92/assets/parts/1/8/5/9/08688-01.jpg" class="bookmark-image"/></a></figure><p id="e7b4bd11-0e03-4876-86c2-a6bae667b8b8" class=""><div class="indented"><figure id="7e5687ac-d252-48df-ac16-f21ecf26a02b" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Untitled%201.png"><img style="width:192px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Untitled%201.png"/></a></figure><p id="f6c78481-f5df-432e-8fc1-daec4bd34614" class=""><em>SparkFun Ambient Light Sensor Breakout - TEMT6000</em></p></div></p></div></p><hr id="7e945a6c-ab76-4111-90e0-f05d790bfc37"/><h3 id="4e4354e7-c9ed-4a58-8c3e-481762d40029" class="">The Hardware Stuff</h3><p id="4ea13583-4bbc-4575-8719-da41ee7f539b" class="">Our proposed system includes the use of the photodiode to detect light. However, as described in previous sections, a photoresistor or a phototransistor can also be used in place of the photodiode. </p><p id="4956022a-71ac-4fcd-9606-2a683fa608cb" class="">For our project, we make use of the photodiode’s “photoconductive mode”, where the photodiode is DC biased, and the current flowing across the diode is due to DC bias as well as the incident light which is converted to voltage by a resistor and is amplified by the operational amplifier. We obtain the fastest response and greatest bandwidth using the “photoconductive mode”. This is due to wider depletion layer and reduction of capacitance which is result of applied reverse bias voltage. It is also called reverse bias mode.</p><p id="3ce470bd-1f78-4d35-96c1-59bc387fc9e2" class="">The capacitor on-board is used to set the output bandwidth as 1 / (2πRC) and prevents oscillations. However, there is a delay of RC as the capacitor must charge. Due to our sensor already having the resistor, capacitor and an op-amp on-board there was no need for any additional signal conditioning interface circuit. </p><figure id="c7273a3e-b358-48a8-b975-97adac39ed2a" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Untitled%202.png"><img style="width:384px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Untitled%202.png"/></a><figcaption>A typical circuit of a photodiode in photoconductive mode (source: <a href="https://www.electronicshub.org/light-sensors/">https://www.electronicshub.org/light-sensors/</a>)</figcaption></figure><p id="2c2a9cf4-54bd-48e6-986e-978f68825c03" class="">The voltage generated by the incident light on the sensor is collected using the DMA trick (more on this in the next section) by the RPi Pico W. This data is then sent to a computer using the RPi Pico W’s internet connection capability and a MQTT messaging protocol where it is analyzed. The output is then sent from the computer using the same messaging protocol to another computer to display. To make our light sensing device portable, we used a battery pack to power the RPi Pico W and a button to control the on-board software. </p><p id="fbaeb6bc-f521-4f12-a75d-41f24d50af00" class=""> </p><figure id="f682731b-1fbd-476e-be27-2697f24332c2" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Block_Diagram1.jpg"><img style="width:1280px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Block_Diagram1.jpg"/></a><figcaption><em>Proposed system diagram for our light sensing project</em></figcaption></figure><p id="b03a9a0d-9a86-4024-8e1d-397dd878e4bd" class="">For the interface circuit to create a light sensor using a photodiode or photoresistor, we start by connecting the female ends of some male-to-female jumper cables to the pins of the sensor. The sensors can handle voltages from both 5V and 3.3V devices. We then connect Vcc on the sensor to the 3.3V pin on the RPi Pico W, GND to GND, and SIG to any analog pin (we&#x27;ll be using A0 in the sample code). The button is connected to the input pin 13 of the RPi Pico W.</p><p id="ffd1ff5c-cc78-4c7c-9827-31fdbf348949" class="">
The table below is provided for easy reference for wiring of the sensor and the button to the RPi Pico W:</p><table id="345db143-a61c-4a84-b233-5a30805c785d" class="simple-table"><thead class="simple-table-header"><tr id="1f5c4bc3-bf00-486e-a134-21188844ba45"><th id="DQ[O" class="simple-table-header-color simple-table-header" style="width:336px"><strong>Sensor Pin</strong></th><th id="}Jj&gt;" class="simple-table-header-color simple-table-header" style="width:336px"><strong>RPi Pico W Pin</strong></th></tr></thead><tbody><tr id="4da2cf27-7cc8-43fb-9caa-f475aed619a6"><td id="DQ[O" class="" style="width:336px">Vcc</td><td id="}Jj&gt;" class="" style="width:336px">Vref 3.3V (Pin 36)</td></tr><tr id="db2877cc-b9fd-445e-8c83-86c0880ab442"><td id="DQ[O" class="" style="width:336px">GND</td><td id="}Jj&gt;" class="" style="width:336px">GND (Pin 33)</td></tr><tr id="bbb10bd5-16f2-4d9b-99b5-0e9b2e9d0ad0"><td id="DQ[O" class="" style="width:336px">SIG</td><td id="}Jj&gt;" class="" style="width:336px">ADC GP26 (Pin 31)</td></tr></tbody></table><figure id="a04355ae-2020-462d-b635-b1a1d3cdb847" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/20221211_185325.jpg"><img style="width:4032px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/20221211_185325.jpg"/></a><figcaption><em>The experimental setup of our sensing system</em></figcaption></figure><hr id="703a136e-0bb7-4a0f-9a7f-0c21388d93a4"/><h3 id="2a49f205-b42f-40ab-a062-bba961db6f2c" class="">Measurement Characteristics</h3><ul id="d449c363-50ec-4933-9625-8b6d3eb6e58a" class="bulleted-list"><li style="list-style-type:disc">ADC Resolution: 0.0008V</li></ul><ul id="137db8c1-d769-4711-8857-ac6012fe4413" class="bulleted-list"><li style="list-style-type:disc">Sampling frequency: 1000 Hz</li></ul><hr id="fdd7c5f1-6320-468f-bfe4-3fdee52318d4"/><h3 id="7bf459b5-14b8-430b-b321-bfa2ac4f66c2" class="">The Software Stuff</h3><p id="2462e736-73f1-46a4-a6fd-57d63e9d8ea8" class="">Our software requirements for this project grew exponentially the further we progressed. Our system architecture has two main components: <div class="indented"><p id="e79250e8-3af7-4e33-8715-0467a2df7d0e" class="">                     (1) the communication protocol,</p><p id="9755814b-9fe0-4fc0-895d-0747a856d468" class="">                     (2) the bulb detection program. </p></div></p><p id="8b47dbbd-f967-4e1e-82ee-a397580c68d3" class="">Both of these are needed in our project because we use a MQTT protocol to send the information collected by the RPi Pico W to an external signal processing program (run on an external laptop) and then send the output to another feed which displays the resulting bulb type (on another external laptop). We chose to to use this approach to avoid having to load unnecessarily large packages onto the RPi Pico W, which only runs on Micro Python, further complicating the code capabilities we would have access to to implement our signal processing program. </p><p id="e606825f-1d77-4e58-b0c4-3f6af066db0d" class=""><em><strong>Communication Protocol:</strong></em></p><p id="59d4b88d-9bd9-4c86-be96-2cb3b051448d" class="">The communication between our system and the external feed that we use as our display is simple, but effective for our use case. We use MQTT at the beginning and end of our signal processing procedure. For the implementation of a MQTT messaging protocol for our project, we chose the open-source package provided by Adafruit. </p><p id="46f6113a-2946-4cb4-bcb8-c6fff5ce8f60" class="">The first step for receiving the initial bulb response information is to subscribe to the topic that the RPi Pico W is publishing to. This initial subscription is to capture the discrete voltage signal data points that the unknown bulb provides to the RPi Pico W. To do this we put a MQTT message protocol in our data collection code so that immediately after gathering the voltage data, it sends the information to a feed established for this sensing project. Each measurement is given a unique ID and a timestamp when stored on the Adafruit feed as shown in the below image.</p><figure id="7b30b852-3bf5-420f-bd8d-a10fd4136e0e" class="image" style="text-align:center"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Screenshot_2022-12-11_195129.png"><img style="width:480px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Screenshot_2022-12-11_195129.png"/></a><figcaption><em>Voltage values of a light wave collected by our sensor that is sent to the Adafruit feed via MQTT messaging protocol implemented on the RPi Pico</em></figcaption></figure><p id="38ca5c31-311b-4a2f-8d4d-e250bdfe2a0d" class="">Our separate signal processing device which is running in the background is subscribed to the same topic and receives the data as soon as it is registered on the feed. Once the signal is processed (see explanation below), we send the final result - a message that contains the bulb type in our database that is the closest Euclidian distance away from that of the unknown bulb - to the final display through an MQTT message. This will then display our result in a time stamped feed in our Adafruit MQTT feed. This ends the communication portion of our sensing system.</p><figure id="4f2fd511-4528-4ab0-8483-4ab4d2e87c33" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Screenshot_2022-12-11_195128.png"><img style="width:480px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Screenshot_2022-12-11_195128.png"/></a><figcaption><em>Final message with a timestamp displayed on dashboard (Computer 2) sent from Computer 1 at the end of signal processing.</em></figcaption></figure><p id="0d8dc150-6b80-495c-b795-7dbc2a7982bd" class=""><em><strong>Signal Conditioning:</strong></em></p><p id="3128b9c0-aeb2-4d65-821a-4e1b4beb38cd" class="">For our signal conditioning software needs, this begins on the RPi Pico code itself which is where we use the Direct Memory Access features on the RPi Pico W to sample our data at 1000Hz. In this data collection program we also condition the signal to produce voltage outputs by multiplying by the full voltage span the RPi Pico W can represent (0 V to 3.3 V). We then divide by the total number of “bins” the ADC can represent numbers in (its bit size). For our case, the ADC resolution is 3.3V / 2^12. This is the first step in our signal conditioning process before the information is sent to the external signal conditioning program via MQTT (explained above). </p><p id="25d8bf42-8a2e-4260-99fa-8d7237592416" class="">In the external program, we condition the signal by conducting a mean-zero normalization to center all of the signals at zero. We do this by subtracting each value in the signal by the mean of the trial run. We then select one period from the trial by finding the index points of the 3rd and 6th zero crossings. We take that one period and zero pad it to make the list the same length as those in our database (photoresistor length of 25 data points and photodiode length of 30 data points). Finally, we take the Euclidian distance of the input list from every one period bulb response function in our database and find which bulb type matches closest to the bulb we are trying to identify (minimum Euclidian distance). This ends the signal processing portion of our sensing system.</p><p id="5cee0df5-8910-4095-a204-b9c7990b8174" class="">
</p><hr id="50967802-d155-4037-9b1d-a6a159561532"/><h1 id="de629ab3-ce48-4708-b4d1-398634c9007d" class="">Challenges Faced</h1><p id="664b29ac-6c01-4e52-afc9-e085455042f4" class="">We faced several challenges in our overall project. The main obstacle came in the initial stages when we were trying to come up with the best way to collect our data and analyze it all on the RPi Pico. We did not know how or what communication protocols we could use to get the messaging correct for the system that we were operating in, and luckily we were able to connect our RPi Pico to our university’s Wi-Fi with just weeks left before the project was due. This became a large part of our project in the final weeks as we faced several problems trying to run all of our signal processing on the RPi Pico with limited access to libraries like NumPy and Pandas. </p><p id="bcb8eeb9-aa93-4157-aac1-aed529bb86e6" class="">Another challenge we faced comes with limited time, but the database that we have is so small that it makes our sensing system much less accurate and robust than it could be had we had more bulbs in our pre loaded database. We could have used the previously established database that the researchers on the <a href="https://dl.acm.org/doi/abs/10.1145/3360322.3360855">GridInSight Paper [1]</a> project had used, but we did not have time to resample and utilize their robust database of over 70 BRFs due to time constraints (their samples were using a 50Hz AC voltage input frequency as this was an international research team and resampling this to 60Hz would take significant time).</p><p id="7839fabb-4d3b-454d-9f7d-3078136762da" class="">The last and probably most impactful challenge that we faced for our project’s accuracy is the identification of one period for our BRF database signals. Due to the experimental data being inconsistent at times, we tried to implement a truncation of the large signal down to one period, but the way in which we did that was not the cleanest and left us with different length periods for most of the trials in our database. This made it difficult to perform a nearest neighbor approach using Euclidian distance because the vectors that classified the bulb types were of different lengths. To remedy this, we used a zero padding approach to make each one period bulb response vector the same length. This lead to errors in our classification system that in future work we would attempt to eliminate with a slightly different approach to collecting one period from each sample we take in our database.</p><p id="b01082b1-399b-40d7-8b5f-ee88b29c41f8" class="">Another challenge we faced was to make the sensing system portable and run the program on the RPi Pico remotely. In order to implement this, Dr. Mario advised us to look into using a button to control the sensing loop. We were able to solve this issue by saving the code for the sensing part in the root folder of the RPi Pico W.   </p><h3 id="a0134bee-a4c7-4548-aed7-58294f083bfa" class=""><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Uncertainty and Error Analysis</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></h3><p id="9b8a1f60-371e-429d-99e7-f2b90ff5cd15" class="">The design stage uncertainty is hard to compute in the case of this project because there are a lot of variables like light angle, color, intensity and distance from the sensor. We initially planned to make a box setup for the project so that these variables can be constant. </p><p id="f8934497-42b2-4681-b6c4-047063492f27" class="">The physical stimulus our sensing system is capturing is very dynamic. The sensors we have are sensitive to many components that are challenging to control such as the angular displacement that light hits the sensor, and also the distance at which the sensor is from the light source. These properties of light and light sensors make it very challenging to get a single number to represent the uncertainty or sensitivity of the sensor. </p><p id="ee058735-dfb5-4c33-8615-c90b2923ad5c" class="">The datasheet highlights the peak sensitivity for the sensor, and the relative spectral sensitivity based on wavelength, and also highlights the sensitivity changes for angle differences ($\phi$) in light that hits the sensor. For that reason, in this section we highlight what some of the contributing factors to the uncertainty will be and how we plan to justify the design stage uncertainty that we came up with. </p><p id="0477545a-d955-47fc-a19e-d947771a9e40" class="">Because we are creating a classification device, we are relying on the basic principles of classification statistics that tell us where the uncertainties of our system are and to justify the accuracy of the sensing system. We use a confusion matrix to quantify the effectiveness of our sensing setup and use the accuracy of the matrix to justify the performance of our classification system. </p><p id="8f4f5201-ccd3-4960-a737-ce53aa0df068" class="">The accuracy of our system (photodiode only) is 57.5% based on the confusion matrix below. Many of our inaccuracies came from the misclassification of the LED bulb. This could be due to the very low voltage output that the LED bulb provides. The other parameters of the confusion matrix, such as an F-score or informedness, do not apply to our classification system because our classification is not of a binary system. </p><p id="f543fcb5-b750-478b-b039-e6666dbda83c" class="">
</p><figure id="90797b58-a88c-488e-bb48-5d515396ea64" class="image"><a href="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Confusion_Matrix_Image.png"><img style="width:396px" src="Who%20turned%20the%20lights%20on%20e5725feaf73049019570c0fe911745e7/Confusion_Matrix_Image.png"/></a><figcaption>The confusion matrix of the Photodiode bulb response behavior (40 trials, 10 for each bulb type in database)</figcaption></figure><p id="116d7315-4daf-41bf-beb4-1a8491d7cbb2" class="">The dynamic characteristics of the sensor will also add errors in the measurement. The time constant of the sensor (tau = R*C) adds delay to the output measurements. As discussed earlier, our sensor has two capacitors and resistors on board which will create a time constant. However, we were not able to find the R &amp; C values as they were not provided on datasheet. We can incorporate this in our future studies. </p><p id="51049c19-8f4b-457e-a809-161b4c4fe8fc" class="">Another possible source for error is the ambient temperature for the sensing instrument. Given that we work on detection of light sources in this project, the sensor has to be in close proximity of the light source - some of which are known to get very hot during operation. Since our sensing system is portable, we must also account for changing environments for our sensor. The impact temperature has on the sensing system can be investigated in future work.</p><hr id="54695471-b56f-43db-ab7d-e1bfaf8f4659"/><h1 id="be50b4e0-48d1-4fce-997d-6217eda08ae0" class="">Future Work</h1><p id="39003045-fb3f-49dd-b2fd-d9ad88ee0ad1" class="">In the future work for this project we suggest using a more accurate zero crossings identifier than the one implemented in our study. To do this, a resampling of the previously conducted BRF database or a resampling of our existing database would be required so a specific set of data points could be captured for the one period truncation. Additionally, expanding the bulb database would result in a broader classification capability for the system that could also make it more effective practically. </p><p id="2c01058e-68b4-47d7-827e-0c5ad11b4cc4" class="">A minor but potentially impactful improvement to our system would be the ability to use multiple sensors at once while detecting bulb types to cross reference the prediction made by each sensor. To do this, usage of a multiple ADC’s on the RPi Pico W would need to be used, and we are unsure how this would impact the Direct Memory Access portion of the RPi Pico that we used to do data collection. However, if this was able to be sorted out, this could be a very compelling route to making a more robust sensing system. </p><p id="1eae832e-6354-467b-b047-870d1ac2da97" class="">Lastly, with the idea that this product could be more commercially viable, connecting this setup to some sort of application would be very appealing for usage in the field. Also constructing a more aesthetically pleasing portable device with an LCD screen and enclosed in a box would be a great extension for this project, making it a more commercially-ready product. </p><p id="2c726db4-c2b5-4e62-b04f-c4a991f0f339" class="">Analysis of the dynamic characteristics of the sensor (time constant) and the impact of changing temperature must be carried out in future work to understand our system response. </p><hr id="ee9ed201-3f42-4600-91e9-284981fa57cb"/><h1 id="3e32fb92-56e5-4ed8-9f11-d162f97db673" class="">Acknowledgements</h1><p id="34d04bd9-010a-4262-9e6d-f1f9324a37f9" class="">We thank Carnegie Mellon University’s Civil and Environmental Engineering Department’s Sensors, Circuits, and Data Interpretation and Management for Infrastructure Systems course taught by Dr. Mario Berges.</p><hr id="7b1f0bf5-cf47-4565-93f9-19bd69e42790"/><h1 id="3c547d78-fe69-4cbd-9e8d-c1dce70a6826" class="">Reference Papers</h1><ol type="1" id="2f103ad4-a480-4b0d-99a6-b6d38a407bdc" class="numbered-list" start="1"><li>Zeal Shah, Alex Yen, Ajey Pandey, and Jay Taneja. 2019. GridInSight: Monitoring Electricity Using Visible Lights. In Proceedings of the 6th ACM International Conference on Systems for Energy-Efficient Buildings, Cities, and Transportation (BuildSys &#x27;19). Association for Computing Machinery, New York, NY, USA, 243–252. <a href="https://doi.org/10.1145/3360322.3360855">https://doi.org/10.1145/3360322.3360855</a> </li></ol><ol type="1" id="cbfb8cb7-f7fc-4fbb-8102-16e870ee951a" class="numbered-list" start="2"><li>Shengrong Yin, Talmai Oliveira, and Abhishek Murthy. 2017. Automated Lamp-Type Identification for City-Wide Outdoor Lighting Infrastructures. In Proceedings of the 18th International Workshop on Mobile Computing Systems and Applications (HotMobile &#x27;17). Association for Computing Machinery, New York, NY, USA, 79–84. <a href="https://doi.org/10.1145/3032970.3032980">https://doi.org/10.1145/3032970.3032980</a></li></ol><ol type="1" id="c48a83e4-4da5-42e5-bbd2-8806eea306f3" class="numbered-list" start="3"><li><em>Mark Sheinin, Yoav Y. Schechner, Kiriakos N. Kutulakos. </em>Computational Imaging on the Electric Grid; Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition (CVPR), 2017, pp. 6437-6446</li></ol><p id="d9f995d8-9767-4dca-831d-06d924693104" class="">
</p></div></article></body></html>